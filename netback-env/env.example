# netback-env example (no secrets). Copy to .env and customize per environment.

# -----------------------------------------------------------------------------
# Proxy (FastAPI) configuration
# These control how the proxy talks to the backend and what origins are allowed.
# -----------------------------------------------------------------------------
DJANGO_API_PROTOCOL="http"
DJANGO_API_URL="netback-backend"
DJANGO_API_PORT="8000"

FASTAPI_PROXY_URL="netback-proxy"
FASTAPI_PROXY_PORT="8080"
FASTAPI_PROXY_DEBUG="false"

# Allowed origins for the proxy. In development use http://localhost. In prod use
# the exact frontend origin (e.g. https://app.example.com). Do NOT use '*' when
# ALLOW_CREDENTIALS=true.
ALLOW_ORIGINS="http://localhost"
ALLOW_CREDENTIALS="true"
ALLOW_METHODS="GET,POST,PUT,PATCH,DELETE,OPTIONS"
ALLOW_HEADERS="Content-Type,Authorization,Access-Control-Allow-Origin,Access-Control-Allow-Credentials,Access-Control-Allow-Methods,Access-Control-Allow-Headers"


# -----------------------------------------------------------------------------
# Backend (Django) configuration
# Variables for Django should be set without quotes in the real .env file.
# Copy this file to .env and replace placeholders with real values.
# -----------------------------------------------------------------------------

# SECRET_KEY: set a strong secret in production. Do NOT commit the real secret.
SECRET_KEY=changeme

# Vault encryption key (placeholder)
ENCRYPTION_KEY_VAULT=changeme

# Zabbix integration (optional)
ZABBIX_URL=
ZABBIX_TOKEN=

# PostgreSQL connection (service names used by docker-compose)
POSTGRES_DB=netback
POSTGRES_USER=netback
POSTGRES_PASSWORD=changeme
POSTGRES_HOST=netback-db
POSTGRES_PORT=5432

# Celery broker (Redis)
CELERY_BROKER_URL=redis://netback-redis:6379/0

# Timezone
TIME_ZONE=America/Lima

# Hosts the Django app will serve. Add production hostnames here.
ALLOWED_HOSTS=localhost,127.0.0.1

# CORS allowed origins for Django REST API (comma-separated)
# Example (dev): http://localhost
# Example (prod): https://app.example.com
CORS_ALLOWED_ORIGINS=http://localhost

# -----------------------------------------------------------------------------
# Cookie / JWT / CSRF settings (placeholders)
# These are used to control cookie attributes for refresh tokens and CSRF.
# -----------------------------------------------------------------------------
JWT_REFRESH_COOKIE_NAME=refresh
JWT_REFRESH_COOKIE_SAMESITE=Lax
JWT_REFRESH_COOKIE_SECURE=false
JWT_REFRESH_COOKIE_PATH=/api/token/refresh/
JWT_REFRESH_COOKIE_MAX_AGE=604800

CSRF_COOKIE_NAME=XSRF-TOKEN
CSRF_COOKIE_SECURE=false
CSRF_COOKIE_SAMESITE=Lax

# If TLS is terminated at a front proxy, set this to true in production
USE_X_FORWARDED_PROTO=false

# Django cookie security flags (set to true in production)
SESSION_COOKIE_SECURE=false
CSRF_COOKIE_SECURE=false

