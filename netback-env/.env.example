# ==============================================================================
# ||                CONFIGURACIÓN DEL PROXY (FastAPI)                     ||
# ==============================================================================
# Define el protocolo y la dirección del backend de Django al que el proxy se conectará.
# Estos valores son para la comunicación interna de Docker.
DJANGO_API_PROTOCOL="http"
DJANGO_API_URL="netback-backend"
DJANGO_API_PORT="8000"

# Define cómo se expone el propio proxy.
FASTAPI_PROXY_URL="netback-proxy"
FASTAPI_PROXY_PORT="8080"
# Activa el modo de depuración de FastAPI (ej. auto-recarga). Opciones: "true", "false".
FASTAPI_PROXY_DEBUG="false"

# Configuración de CORS para el proxy (no para Django).
# Define qué orígenes pueden acceder al proxy. "*" es un comodín inseguro para producción.
# Ejemplo para producción: "http://tu-dominio.com,https://tu-dominio.com"
ALLOW_ORIGINS="*"
ALLOW_CREDENTIALS="true"
ALLOW_METHODS="GET,POST,PUT,PATCH,DELETE,OPTIONS"
ALLOW_HEADERS="Content-Type,Authorization"


# ==============================================================================
# ||                CONFIGURACIÓN DEL BACKEND (Django)                    ||
# ==============================================================================
# NOTA: Las variables para Django no deben llevar comillas.

# Clave secreta de Django para funciones criptográficas.
# ¡DEBE ser única y secreta en producción!
SECRET_KEY=cambia_esta_clave_secreta_por_una_cadena_aleatoria_larga
# Clave para encriptar/desencriptar credenciales en la bóveda (Vault).
# DEBE ser una clave de 32 bytes codificada en URL-safe base64.
ENCRYPTION_KEY_VAULT=genera_una_nueva_clave_con_cryptography_hazmat

# Configuración de la API de Zabbix (si se utiliza).
ZABBIX_URL=http://tu-servidor-zabbix.com
ZABBIX_TOKEN=tu_token_de_api_de_zabbix

# Configuración de la base de datos PostgreSQL.
# Estos son los nombres de servicio y credenciales para la comunicación interna de Docker.
POSTGRES_DB=netback
POSTGRES_USER=netback
POSTGRES_PASSWORD=netback
POSTGRES_HOST=netback-db
POSTGRES_PORT=5432

# Configuración de Celery para tareas en segundo plano.
# Apunta al servicio de Redis.
CELERY_BROKER_URL=redis://netback-redis:6379/0

# Zona horaria para la lógica de Django.
# Ejemplo: "America/Santiago", "UTC", "America/Lima".
TIME_ZONE=America/Lima

# Lista de hosts/dominios que Django tiene permitido servir.
# Es una medida de seguridad. Deben estar separados por comas, sin espacios.
# Ejemplo: localhost,127.0.0.1,mi-dominio.com
ALLOWED_HOSTS=localhost,127.0.0.1,backend,proxy,netback-backend

# Lista de orígenes (URLs) que tienen permitido hacer peticiones al backend.
# Es la configuración de seguridad CORS. Separados por comas, sin espacios.
# Ejemplo: http://localhost:3000,https://mi-frontend.com
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost,http://127.0.0.1,http://proxy
